

<% if @flight.errors.any? %>
  <div id="error_explanation">
    <h2>
      <%= pluralize(@flight.errors.count, "error") %>
      prohibited this post from being saved:
    </h2>
 
    <ul>
    <% @flight.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>


<section class="jet">
  <header class="header">
    <h1>Create a New Flight</h1>

    <%= form_for(@flight) do |f| %>
       <%= f.label :inspection %>
       <%= f.check_box :inspection %> [Check For  pass inspection] <br />

       <%= f.label :fuel_cost %>
        <%= f.text_field :fuel_cost %><br />

        <%= f.label :destination %>
        <%= f.text_field :destination %><br />

        <%= f.label :flight_departure %>
        <%= f.text_field :flight_departure %><br />

          <%= f.label :flight_sit %>
        <%= f.text_field :flight_sit %><br />
    
        <br>
        <%= f.submit%>
        <% end %>

        <div id="flightResult">
        <h2 id="flightInfor"></h2>
        <p id = "flightBody"></p>
        </div>


    <script type="text/javascript" charset="utf-8">
     $(funciton() {
       $('form').submit(function(event){
         event.preventDefault();
         //alert("we hijack the key")

         var values = $(this).serialize();
         var flying = $.flight('/flights', values);
           flying.done(function(data){
             ///console.log(data);
                $("#flightInfor").text(flight["destination"]);
                   $("#flightBody").text(flight["flight_sit"]);
           })
         })
       });
     </script>

  </form>

  </header>
  
</section>
